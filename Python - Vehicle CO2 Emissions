-- You volunteer for a public policy advocacy organization in Canada, and your colleague asked you to help her draft recommendations for guidelines 
-- on CO2 emissions rules. After researching emissions data for a wide range of Canadian vehicles, she would like you to investigate which vehicles 
-- produce lower emissions.


import pandas as pd
import numpy as np

# Load the data
cars = pd.read_csv('data/co2_emissions_canada.csv')

# create numpy arrays
cars_makes = cars['Make'].to_numpy()
cars_models = cars['Model'].to_numpy()
cars_classes = cars['Vehicle Class'].to_numpy()
cars_engine_sizes = cars['Engine Size(L)'].to_numpy()
cars_cylinders = cars['Cylinders'].to_numpy()
cars_transmissions = cars['Transmission'].to_numpy()
cars_fuel_types = cars['Fuel Type'].to_numpy()
cars_fuel_consumption = cars['Fuel Consumption Comb (L/100 km)'].to_numpy()
cars_co2_emissions = cars['CO2 Emissions(g/km)'].to_numpy()

# Look at the first ten items in the CO2 emissions array

cars_co2_emissions[:10]

# What is the median engine size in liters?

print(cars['Engine Size(L)'].median())

# What is the average fuel consumption for regular gasoline (Fuel Type = X), premium gasoline (Z), ethanol (E), and diesel (D)?

fuel_consumption = cars.groupby("Fuel Type")["Fuel Consumption Comb (L/100 km)"].mean()
print(fuel_consumption)


# Which vehicle class has lower average CO2 emissions, 'SUV - SMALL' or 'MID-SIZE'?

all = cars["CO2 Emissions(g/km)"].mean()
two_liters = cars[cars["Engine Size(L)"] <= 2.0]["CO2 Emissions(g/km)"].mean()
print(str("All vehicles: ") + str(all))
print(str("Vehicles with <= 2.0 liter engines: ") + str(two_liters))

# Other insights: Most vehicles emit 200-300 g/km CO2. 

import matplotlib.pyplot as plt
import seaborn as sns
sns.boxplot(data=cars, x="CO2 Emissions(g/km)")
plt.show()

sns.histplot(data=cars, x="CO2 Emissions(g/km)")
plt.ylabel("Number of Vehicles")
plt.show()

sns.lineplot(data=cars, x="Cylinders", y="CO2 Emissions(g/km)")
plt.title("CO2 Emissions by Cylinder Size")
plt.xlabel("Cylinder Size")
plt.show()

sns.catplot(data=cars, kind="box", x ="Vehicle Class", y="CO2 Emissions(g/km)", height=8.27, aspect=11.7/8.27)
plt.xticks(rotation=90)
plt.title("CO2 Emissions by Vehicle Class")
plt.show()

sns.catplot(data=cars, kind="bar", x ="Make", y="CO2 Emissions(g/km)", height=8.27, aspect=11.7/8.27)
plt.xticks(rotation=90)
plt.title("CO2 Emissions by Make")
plt.show()
